<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>11.2 元素遍历</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">11.2 元素遍历</h1>
	<hr>
		<p>
	对于元素间的空格，IE9 及之前版本不会返回文本节点，而其他所有浏览器都会返回文本节点。这样，就导致了在使用childNodes 和firstChild 等属性时的行为不一致。为了弥补这一差异，而同时又保持DOM规范不变，Element Traversal 规范（www.w3.org/TR/ElementTraversal/）新定义了一组属性。
</p>
<p>
	Element Traversal API 为DOM元素添加了以下5 个属性。
</p>
<ul>
	<li>
		childElementCount：返回子元素（不包括文本节点和注释）的个数。
	</li>
	<li>
		firstElementChild：指向第一个子元素；firstChild 的元素版。
	</li>
	<li>
		lastElementChild：指向最后一个子元素；lastChild 的元素版。
	</li>
	<li>
		previousElementSibling：指向前一个同辈元素；previousSibling 的元素版。
	</li>
	<li>
		nextElementSibling：指向后一个同辈元素；nextSibling 的元素版。
	</li>
</ul>
支持的浏览器为DOM 元素添加了这些属性，利用这些元素不必担心空白文本节点，从而可以更方便地查找DOM 元素了。<br />
下面来看一个例子。过去，要跨浏览器遍历某元素的所有子元素，需要像下面这样写代码。<br />
<pre>var i, len, child = element.firstChild;
while (child != element.lastChild) {
	if (child.nodeType == 1) { //检查是不是元素
		processChild(child);
	}
	child = child.nextSibling;
}</pre>
<p>
	而使用Element Traversal新增的元素，代码会更简洁。
</p>
<p>
</p>
<pre>var i, len, child = element.firstElementChild;
while (child != element.lastElementChild) {
	processChild(child); //已知其是元素
	child = child.nextElementSibling;
}</pre>
<p>
</p>
支持Element Traversal 规范的浏览器有IE 9+、Firefox 3.5+、Safari 4+、Chrome 和Opera 10+。</div>

<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
	$('.runsl').each(function() {
	      var runsl = this,button = '<a class="btn btn-sm btn-success margin-b-5" target="_blank" href="http://www.z-ai.net/api/view/a/15305">运行一下</a>';
	      $(button).insertAfter(runsl).bind('click', function(){

	      });
	});
});
</script>
</body>
</html>

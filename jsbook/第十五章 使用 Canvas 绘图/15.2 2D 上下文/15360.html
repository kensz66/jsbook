<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>15.2.7 阴影</title>
<link rel="stylesheet" type="text/css" href="../../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../../style/love.css" />
<script type="text/javascript" src="../../style/jquery.min.js"></script>
<script type="text/javascript" src="../../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">15.2.7 阴影</h1>
	<hr>
		2D 上下文会根据以下几个属性的值，自动为形状或路径绘制出阴影。<br />
<ul>
	<li>
		shadowColor：用CSS 颜色格式表示的阴影颜色，默认为黑色。
	</li>
	<li>
		shadowOffsetX：形状或路径x 轴方向的阴影偏移量，默认为0。
	</li>
	<li>
		shadowOffsetY：形状或路径y 轴方向的阴影偏移量，默认为0。
	</li>
	<li>
		shadowBlur：模糊的像素数，默认0，即不模糊。
	</li>
</ul>
这些属性都可以通过context 对象来修改。只要在绘制前为它们设置适当的值，就能自动产生阴影。例如：<br />
<pre>var context = drawing.getContext("2d");
//设置阴影
context.shadowOffsetX = 5;
context.shadowOffsetY = 5;
context.shadowBlur = 4;
context.shadowColor = "rgba(0, 0, 0, 0.5)";
//绘制红色矩形
context.fillStyle = "#ff0000";
context.fillRect(10, 10, 50, 50);
//绘制蓝色矩形
context.fillStyle = "rgba(0,0,255,1)";
context.fillRect(30, 30, 50, 50);</pre>
<p>
	<a href="http://www.z-ai.net/study/api/s/8752" target="_blank" class="btn btn-sm btn-success">运行一下</a>
</p>
<p>
</p>
<blockquote>
	① 请读者注意，虽然本章至今一直在讨论2D 绘图上下文，但toDataURL()是Canvas 对象的方法，不是上下文对象的方法。
</blockquote>
<p>
</p>
<p>
	两个矩形的阴影样式相同，结果如图15-10 所示。
</p>
<p>
	<img src="../../image/1a4207754e8.gif" alt="" />
</p>
不同浏览器对阴影的支持有一些差异。IE9、Firefox 4 和Opera 11 的行为最为规范，其他浏览器多多少少会有一些奇怪的现象，甚至根本不支持阴影。<br />
Chrome（直至第10 版）不能正确地为描边的形状应用实心阴影。Chrome 和Safari（直至第5 版）在为带透明像素的图像应用阴影时也会有问题：不透明部分的下方本来是该有阴影的，但此时则一概不见了。Safari 也不能给渐变图形应用阴影，其他浏览器都可以。</div>

<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
	$('.runsl').each(function() {
	      var runsl = this,button = '<a class="btn btn-sm btn-success margin-b-5" target="_blank" href="http://www.z-ai.net/api/view/a/15360">运行一下</a>';
	      $(button).insertAfter(runsl).bind('click', function(){

	      });
	});
});
</script>
</body>
</html>

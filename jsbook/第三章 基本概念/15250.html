<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>3.6 语句</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">3.6 语句</h1>
	<hr>
		<h2>
	3.6.1 if语句
</h2>
大多数编程语言中最为常用的一个语句就是 if 语句。以下是 if 语句的语法：<br />
<pre>if (condition) statement1 else statement2</pre>
其中的 condition（条件）可以是任意表达式；而且对这个表达式求值的结果不一定是布尔值。<br />
ECMAScript 会自动调用 Boolean()转换函数将这个表达式的结果转换为一个布尔值。如果对 condition求值的结果是 true，则执行 statement1 （语句 1），如果对 condition 求值的结果是 false，则执行 statement2（语句 2）。而且这两个语句既可以是一行代码，也可以是一个代码块（以一对花括号括起来的多行代码）。<br />
请看下面的例子。<br />
<pre>if (i &gt; 25) alert("Greater than 25."); // 单行语句
else {
	alert("Less than or equal to 25."); // 代码块中的语句
}</pre>
<a href="http://www.z-ai.net/study/api/s/8395" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
不过，业界普遍推崇的最佳实践是始终使用代码块，即使要执行的只有一行代码。因为这样可以消除人们的误解，否则可能让人分不清在不同条件下要执行哪些语句。<br />
另外，也可以像下面这样把整个 if 语句写在一行代码中：<br />
<pre>if (condition1) statement1 else if (condition2) statement2 else statement3</pre>
但我们推荐的做法则是像下面这样：<br />
<pre>if (i &gt; 25) {
  alert("Greater than 25.");
} else if (i &lt; 0) {
  alert("Less than 0.");
} else {
  alert("Between 0 and 25, inclusive.");
}</pre>
<a href="http://www.z-ai.net/study/api/s/8396" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
<h2>
	3.6.2 do-while语句
</h2>
do-while 语句是一种后测试循环语句，即只有在循环体中的代码执行之后，才会测试出口条件。<br />
换句话说，在对条件表达式求值之前，循环体内的代码至少会被执行一次。以下是 do-while 语句的语法：<br />
<pre>do {
  statement
} while (expression);</pre>
下面是一个示例：<br />
<pre>var i = 0;
do {
  i += 2;
} while (i &lt; 10);
alert(i);</pre>
<a href="http://www.z-ai.net/study/api/s/8397" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这个例子中，只要变量 i 的值小于 10，循环就会一直继续下去。而且变量 i 的值最初为 0，每次循环都会递增 2。<br />
像 do-while 这种后测试循环语句最常用于循环体中的代码至少要被执行一次的情形。<br />
<h2>
	3.6.3 while语句
</h2>
while 语句属于前测试循环语句， 也就是说， 在循环体内的代码被执行之前，就会对出口条件求值。<br />
因此，循环体内的代码有可能永远不会被执行。以下是 while 语句的语法：<br />
<pre>while(expression) statement</pre>
下面是一个示例：<br />
<pre>var i = 0;
while (i &lt; 10) {
   i += 2;
}</pre>
<a href="http://www.z-ai.net/study/api/s/8398" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这个例子中，变量 i 开始时的值为 0，每次循环都会递增 2。而只要 i 的值小于 10，循环就会继续下去。<br />
<h2>
	3.6.4 for语句
</h2>
for 语句也是一种前测试循环语句，但它具有在执行循环之前初始化变量和定义循环后要执行的代码的能力。以下是 for 语句的语法：<br />
<pre>for (initialization; expression; post-loop-expression) statement</pre>
下面是一个示例：<br />
<pre>var count = 10;
for (var i = 0; i &lt; count; i++){
    alert(i);
}</pre>
<a href="http://www.z-ai.net/study/api/s/8399" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
以上代码定义了变量 i 的初始值为 0。只有当条件表达式（i&lt;count）返回 true 的情况下才会进入 for 循环，因此也有可能不会执行循环体中的代码。如果执行了循环体中的代码，则一定会对循环后的表达式（i++）求值，即递增 i 的值。这个 for 循环语句与下面的 while 语句的功能相同：<br />
<pre>var count = 10;
var i = 0;
while (i &lt; count){
    alert(i);
    i++;
}</pre>
使用 while 循环做不到的，使用 for 循环同样也做不到。也就是说， for 循环只是把与循环有关的代码集中在了一个位置。<br />
有必要指出的是，在 for 循环的变量初始化表达式中，也可以不使用 var 关键字。该变量的初始化可以在外部执行，例如：<br />
<pre>var count = 10;
var i;
for (i = 0; i &lt; count; i++){
    alert(i);
}</pre>
<a href="http://www.z-ai.net/study/api/s/8400" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
以上代码与在循环初始化表达式中声明变量的效果是一样的。由于 ECMAScript 中不存在块级作用域（第 4 章将进一步讨论这一点），因此在循环内部定义的变量也可以在外部访问到。例如：<br />
<pre>var count = 10;
for (var i = 0; i &lt; count; i++){
    alert(i);
}
alert(i); //10</pre>
<a href="http://www.z-ai.net/study/api/s/8401" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这个例子中，会有一个警告框显示循环完成后变量 i 的值，这个值是 10。这是因为，即使 i 是在循环内部定义的一个变量，但在循环外部仍然可以访问到它。<br />
此外， for 语句中的初始化表达式、控制表达式和循环后表达式都是可选的。将这三个表达式全部省略，就会创建一个无限循环，例如：<br />
<pre>for (;;) { // 无限循环
    doSomething();
}</pre>
而只给出控制表达式实际上就把 for 循环转换成了 while 循环，例如：<br />
<pre>var count = 10;
var i = 0;
for (; i &lt; count; ){
    alert(i);
    i++;
}</pre>
<a href="http://www.z-ai.net/study/api/s/8402" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
由于 for 语句存在极大的灵活性，因此它也是 ECMAScript 中最常用的一个语句。<br />
<h2>
	3.6.5 for-in语句
</h2>
for-in 语句是一种精准的迭代语句，可以用来枚举对象的属性。以下是 for-in 语句的语法：<br />
<pre>for (property in expression) statement</pre>
下面是一个示例：<br />
<pre>for (var propName in window) {
    document.write(propName);
}</pre>
<a href="http://www.z-ai.net/study/api/s/8403" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这个例子中，我们使用 for-in 循环来显示了 BOM 中 window 对象的所有属性。每次执行循环时，都会将 window 对象中存在的一个属性名赋值给变量 propName。这个过程会一直持续到对象中的所有属性都被枚举一遍为止。与 for 语句类似，这里控制语句中的 var 操作符也不是必需的。但是，为了保证使用局部变量，我们推荐上面例子中的这种做法。<br />
ECMAScript 对象的属性没有顺序。因此，通过 for-in 循环输出的属性名的顺序是不可预测的。<br />
具体来讲，所有属性都会被返回一次，但返回的先后次序可能会因浏览器而异。<br />
但是，如果表示要迭代的对象的变量值为 null 或 undefined， for-in 语句会抛出错误。<br />
ECMAScript 5 更正了这一行为；对这种情况不再抛出错误，而只是不执行循环体。为了保证最大限度的兼容性，建议在使用 for-in 循环之前，先检测确认该对象的值不是 null 或 undefined。<br />
Safari 3 以前版本的 for-in 语句中存在一个 bug，该 bug 会导致某些属性被返回两次。<br />
<h2>
	3.6.6 label语句
</h2>
使用 label 语句可以在代码中添加标签，以便将来使用。以下是 label 语句的语法：<br />
<pre>label: statement</pre>
下面是一个示例：<br />
<pre>start: for (var i=0; i &lt; count; i++) {
    alert(i);
}</pre>
这个例子中定义的 start 标签可以在将来由 break 或 continue 语句引用。加标签的语句一般都要与 for 语句等循环语句配合使用。<br />
<h2>
	3.6.7 break和continue语句
</h2>
break 和 continue 语句用于在循环中精确地控制代码的执行。其中，break 语句会立即退出循环，强制继续执行循环后面的语句。而 continue 语句虽然也是立即退出循环，但退出循环后会从循环的顶部继续执行。请看下面的例子：<br />
<pre>var num = 0;
for (var i=1; i &lt; 10; i++) {
    if (i % 5 == 0) {
        break;
    }
    num++;
}
alert(num); //4</pre>
<a href="http://www.z-ai.net/study/api/s/8404" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
这个例子中的 for 循环会将变量 i 由 1 递增至 10。在循环体内，有一个 if 语句检查 i 的值是否可以被 5 整除（使用求模操作符）。如果是，则执行 break 语句退出循环。另一方面，变量 num 从 0 开始，用于记录循环执行的次数。在执行 break 语句之后，要执行的下一行代码是 alert()函数，结果显示 4。也就是说，在变量 i 等于 5 时，循环总共执行了 4 次；而 break 语句的执行，导致了循环在num 再次递增之前就退出了。如果在这里把 break 替换为 continue 的话，则可以看到另一种结果：<br />
<pre>var num = 0;
for (var i = 1; i &lt; 10; i++) {
	if (i % 5 == 0) {
		continue;
	}
	num++;
}
alert(num); //8
</pre>
<a href="http://www.z-ai.net/study/api/s/8405" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
例子的结果显示 8，也就是循环总共执行了 8 次。当变量 i 等于 5 时，循环会在 num 再次递增之前退出，但接下来执行的是下一次循环，即 i 的值等于 6 的循环。于是，循环又继续执行，直到 i 等于10 时自然结束。而 num 的最终值之所以是 8，是因为 continue 语句导致它少递增了一次。<br />
break 和 continue 语句都可以与 label 语句联合使用，从而返回代码中特定的位置。这种联合使用的情况多发生在循环嵌套的情况下，如下面的例子所示：<br />
<pre>var num = 0;
outermost: for (var i = 0; i &lt; 10; i++) {
	for (var j = 0; j &lt; 10; j++) {
		if (i == 5 &amp;&amp; j == 5) {
			break outermost;
		}
		num++;
	}
}
alert(num); //55 </pre>
<a href="http://www.z-ai.net/study/api/s/8406" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这个例子中， outermost 标签表示外部的 for 语句。如果每个循环正常执行 10 次，则 num++语句就会正常执行 100 次。换句话说，如果两个循环都自然结束， num 的值应该是 100。但内部循环中的 break 语句带了一个参数：要返回到的标签。添加这个标签的结果将导致 break 语句不仅会退出内部的 for 语句（即使用变量 j 的循环），而且也会退出外部的 for 语句（即使用变量 i 的循环） 。为此，当变量 i 和 j 都等于 5 时， num 的值正好是 55。同样， continue 语句也可以像这样与 label 语句联用，如下面的例子所示：<br />
<pre>var num = 0;
outermost: for (var i = 0; i &lt; 10; i++) {
	for (var j = 0; j &lt; 10; j++) {
		if (i == 5 &amp;&amp; j == 5) {
			continue outermost;
		}
		num++;
	}
}
alert(num); //95</pre>
<a href="http://www.z-ai.net/study/api/s/8407" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这种情况下， continue 语句会强制继续执行循环——退出内部循环，执行外部循环。当 j 是 5时， continue 语句执行，而这也就意味着内部循环少执行了 5 次，因此 num 的结果是 95。<br />
虽然联用 break、 continue 和 label 语句能够执行复杂的操作，但如果使用过度，也会给调试带来麻烦。在此，我们建议如果使用 label 语句，一定要使用描述性的标签，同时不要嵌套过多的循环。<br />
<h2>
	3.6.8 with语句
</h2>
with 语句的作用是将代码的作用域设置到一个特定的对象中。 with 语句的语法如下：<br />
<pre>with (expression) statement;</pre>
定义 with 语句的目的主要是为了简化多次编写同一个对象的工作，如下面的例子所示：<br />
<pre>var qs = location.search.substring(1);
var hostName = location.hostname;
var url = location.href;</pre>
上面几行代码都包含 location 对象。如果使用 with 语句，可以把上面的代码改写成如下所示：<br />
<pre>with(location){
    var qs = search.substring(1);
    var hostName = hostname;
    var url = href;
}</pre>
<a href="http://www.z-ai.net/study/api/s/8408" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这个重写后的例子中，使用 with 语句关联了 location 对象。这意味着在 with 语句的代码块内部，每个变量首先被认为是一个局部变量，而如果在局部环境中找不到该变量的定义，就会查询location 对象中是否有同名的属性。如果发现了同名属性， 则以 location 对象属性的值作为变量的值。<br />
严格模式下不允许使用 with 语句，否则将视为语法错误。由于大量使用 with 语句会导致性能下降，同时也会给调试代码造成困难，因此在开发大型应用程序时，不建议使用 with 语句。<br />
<h2>
	3.6.9 switch语句
</h2>
switch 语句与 if 语句的关系最为密切，而且也是在其他语言中普遍使用的一种流控制语句。<br />
ECMAScript 中 switch 语句的语法与其他基于 C 的语言非常接近，如下所示：<br />
<pre>switch (expression) {
case value:
	statement
	break;
case value:
	statement
	break;
case value:
	statement
	break;
case value:
	statement
	break;
default:
	statement
}</pre>
switch 语句中的每一种情形（case）的含义是：“如果表达式等于这个值（value），则执行后面的语句（statement）”。而 break 关键字会导致代码执行流跳出 switch 语句。如果省略 break 关键字，就会导致执行完当前 case 后，继续执行下一个 case。最后的 default 关键字则用于在表达式不匹配前面任何一种情形的时候，执行机动代码（因此，也相当于一个 else 语句）。<br />
从根本上讲， switch 语句就是为了让开发人员免于编写像下面这样的代码：<br />
<pre>if (i == 25){
    alert("25");
} else if (i == 35) {
    alert("35");
} else if (i == 45) {
    alert("45");
} else {
    alert("Other");
}</pre>
而与此等价的 switch 语句如下所示：<br />
<pre>switch (i) {
case 25:
	alert("25");
	break;
case 35:
	alert("35");
	break;
case 45:
	alert("45");
	break;
default:
	alert("Other");
}</pre>
<a href="http://www.z-ai.net/study/api/s/8409" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
通过为每个 case 后面都添加一个 break 语句，就可以避免同时执行多个 case 代码的情况。假如确实需要混合几种情形，不要忘了在代码中添加注释，说明你是有意省略了 break 关键字，如下所示：<br />
<pre>switch (i) {
case 25:
	/* 合并两种情形 */
case 35:
	alert("25 or 35");
	break;
case 45:
	alert("45");
	break;
default:
	alert("Other");
}</pre>
<a href="http://www.z-ai.net/study/api/s/8410" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
虽然 ECMAScript 中的 switch 语句借鉴自其他语言，但这个语句也有自己的特色。首先，可以在switch 语句中使用任何数据类型（在很多其他语言中只能使用数值），无论是字符串，还是对象都没有问题。其次，每个 case 的值不一定是常量，可以是变量，甚至是表达式。请看下面这个例子：<br />
<pre>switch ("hello world") {
case "hello" + " world": alert("Greeting was found.");
	break;
case "goodbye":
	alert("Closing was found.");
	break;
default:
	alert("Unexpected message was found.");
}</pre>
<a href="http://www.z-ai.net/study/api/s/8411" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
在这个例子中， switch 语句使用的就是字符串。其中，第一种情形实际上是一个对字符串拼接操作求值的表达式。由于这个字符串拼接表达式的结果与 switch 的参数相等，因此结果就会显示"Greeting was found."。而且，使用表达式作为 case 值还可以实现下列操作：<br />
<pre>var num = 25;
switch (true) {
case num &lt; 0 : alert("Less than 0.");
	break;
case num &gt;= 0 &amp;&amp; num &lt;= 10 : alert("Between 0 and 10.");
	break;
case num &gt; 10 &amp;&amp; num &lt;= 20 : alert("Between 10 and 20.");
	break;
default:
	alert("More than 20.");
}</pre>
<a href="http://www.z-ai.net/study/api/s/8412" target="_blank" class="btn btn-sm btn-success">运行一下</a><br />
这个例子首先在 switch 语句外面声明了变量 num。而之所以给 switch 语句传递表达式 true，是因为每个 case 值都可以返回一个布尔值。这样，每个 case 按照顺序被求值，直到找到匹配的值或者遇到 default 语句为止（这正是这个例子的最终结果）。<br />
switch 语句在比较值时使用的是全等操作符，因此不会发生类型转换（例如，字符串"10"不等于数值 10）</div>

<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
	$('.runsl').each(function() {
	      var runsl = this,button = '<a class="btn btn-sm btn-success margin-b-5" target="_blank" href="http://www.z-ai.net/api/view/a/15250">运行一下</a>';
	      $(button).insertAfter(runsl).bind('click', function(){

	      });
	});
});
</script>
</body>
</html>

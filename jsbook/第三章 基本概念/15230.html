<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, minimumscale=1.0, maximum-scale=1.0" />
<meta name="language" content="zh-cn" />
<meta name="renderer" content="webkit" />
<title>3.3 变量</title>
<link rel="stylesheet" type="text/css" href="../style/prettify.css" />
<link rel="stylesheet" type="text/css" href="../style/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../style/love.css" />
<script type="text/javascript" src="../style/jquery.min.js"></script>
<script type="text/javascript" src="../style/bootstrap.min.js"></script>
<script type="text/javascript" src="../style/prettify.js"></script>
</head>
<body>
<div id="post-content" class="m-bg">
	<h1 class="text-center">3.3 变量</h1>
	<hr>
		<p>
	ECMAScript 的变量是松散类型的，所谓松散类型就是可以用来保存任何类型的数据。换句话说，每个变量仅仅是一个用于保存值的占位符而已。定义变量时要使用 <code>var</code> 操作符（注意 <code>var</code> 是一个关键字），后跟变量名（即一个标识符），如下所示：
</p>
<pre>var message;</pre>
<p>
	这行代码定义了一个名为 message 的变量，该变量可以用来保存任何值（像这样未经过初始化的变量，会保存一个特殊的值——<code>undefined</code>，相关内容将在 3.4 节讨论）。 ECMAScript 也支持直接初始化变量，因此在定义变量的同时就可以设置变量的值，如下所示：
</p>
<pre>var message = "hi";</pre>
<p>
	在此，变量 message 中保存了一个字符串值"<code>hi</code>"。像这样初始化变量并不会把它标记为字符串类型；初始化的过程就是给变量赋一个值那么简单。因此，可以在修改变量值的同时修改值的类型，如下所示：
</p>
<pre>var message = "hi";
message = 100; // 有效，但不推荐</pre>
<p>
	在这个例子中，变量 message 一开始保存了一个字符串值"<code>hi</code>"，然后该值又被一个数字值 100 取代。虽然我们不建议修改变量所保存值的类型，但这种操作在 ECMAScript 中完全有效。
</p>
<p>
	有一点必须注意，即用 <code>var</code> 操作符定义的变量将成为定义该变量的作用域中的局部变量。也就是说，如果在函数中使用 <code>var</code> 定义一个变量，那么这个变量在函数退出后就会被销毁，例如：
</p>
<pre>function test() {
	var message = "hi"; // 局部变量
}
test();
alert(message); // 错误！
</pre>
<p>
	这里，变量 message 是在函数中使用 <code>var</code> 定义的。当函数被调用时，就会创建该变量并为其赋值。
</p>
<p>
	而在此之后，这个变量又会立即被销毁，因此例子中的下一行代码就会导致错误。不过，可以像下面这样省略 <code>var</code> 操作符，从而创建一个全局变量：
</p>
<pre>function test() {
	message = "hi"; // 全局变量
}
test();
alert(message); // "hi"
</pre>
<p>
	这个例子省略了 <code>var</code> 操作符，因而 message 就成了全局变量。这样，只要调用过一次 test()函数，这个变量就有了定义，就可以在函数外部的任何地方被访问到。
</p>
<p>
	<blockquote>
		虽然省略 <code>var</code> 操作符可以定义全局变量，但这也不是我们推荐的做法。因为在局部作用域中定义的全局变量很难维护，而且如果有意地忽略了 <code>var</code> 操作符，也会由于相应变量不会马上就有定义而导致不必要的混乱。给未经声明的变量赋值在严格模式下会导致抛出 <code>ReferenceError</code> 错误。
	</blockquote>
</p>
<p>
	可以使用一条语句定义多个变量，只要像下面这样把每个变量（初始化或不初始化均可）用逗号分隔开即可：
</p>
<pre>var message = "hi",
found = false,
age = 29;</pre>
<p>
	这个例子定义并初始化了 3 个变量。同样由于 ECMAScript 是松散类型的，因而使用不同类型初始化变量的操作可以放在一条语句中来完成。虽然代码里的换行和变量缩进不是必需的，但这样做可以提高可读性。
</p>
<p>
	在严格模式下，不能定义名为 <code>eval</code> 或 <code>arguments</code> 的变量，否则会导致语法错误。
</p></div>

<script type="text/javascript">
$(function(){
	$("pre").addClass("prettyprint linenums");
	//代码高亮
	prettyPrint();
	$("table").attr('class','table table-striped table-bordered table-condensed');
	$('.runsl').each(function() {
	      var runsl = this,button = '<a class="btn btn-sm btn-success margin-b-5" target="_blank" href="http://www.z-ai.net/api/view/a/15230">运行一下</a>';
	      $(button).insertAfter(runsl).bind('click', function(){

	      });
	});
});
</script>
</body>
</html>
